<section>
  <link rel="stylesheet" href="components/intro.css" />
  <div>
    <h1 class="ligne-ola press-start-2p-regular" id="main-title">
      YOUTUBE GAME
    </h1>
    <h2 class="rubik-wet-paint-regular">Who wants to be the King</h2>
  </div>

  <img
    id="yt-logo"
    class="yt-logo"
    src="../assets/yt-logo-2.webp"
    alt="Logo Youtube Game"
  />
  <audio id="audioPlayer" src="assets/vegeta.mp3"></audio>

  <div class="buttons">
    <button class="button knewave-regular" onclick="depasse()">
      Je suis dépassé
    </button>
    <button
      id="enter-yt-game"
      class="button knewave-regular"
      onclick="navigate()"
    >
      Pas encore..!
    </button>
  </div>
  <script>
    function depasse() {
      openDrawer();
    }

    function navigate() {
      window.location.href = "https://www.absolute-certainty.fr"; // Remplace par l'URL de la page que tu veux ouvrir
    }

    // Sélectionne chaque lettre de la ligne
    document.addEventListener("DOMContentLoaded", function () {
      const olaLine = document.getElementById("main-title");
      const text = olaLine.textContent;
      olaLine.textContent = ""; // Efface le contenu texte d'origine

      // Crée un <span> pour chaque lettre et ajoute à la ligne
      text.split("").forEach((char, index) => {
        const span = document.createElement("span");
        span.textContent = char;
        olaLine.appendChild(span);

        // Ajoute un délai pour chaque lettre pour créer l'effet de vague
        setInterval(() => {
          setTimeout(() => {
            span.style.transform = "translateY(-10px)";
          }, index * 100); // Décalage progressif pour l'effet de vague

          setTimeout(() => {
            span.style.transform = "translateY(0)";
          }, index * 100 + 300);
        }, 2000);
      });
    });
  </script>
  <script>
    const playImage = document.getElementById("yt-logo");
    const audioPlayer = document.getElementById("audioPlayer");
    let isPlaying = false;

    // Fonction pour basculer lecture/pause
    function toggleAudio() {
      if (!isPlaying) {
        // Si la musique n'a jamais été jouée, démarre la lecture
        audioPlayer.play();
        isPlaying = true;
      } else {
        // Basculer entre lecture et pause
        if (audioPlayer.paused) {
          audioPlayer.play();
        } else {
          audioPlayer.pause();
        }
      }
    }

    // Lecture/pause quand on clique sur le logo
    playImage.addEventListener("click", toggleAudio);

    // Lecture/pause quand on appuie sur la touche Espace
    document.addEventListener("keydown", (event) => {
      if (event.code === "Space") {
        event.preventDefault(); // Empêche le défilement de la page
        toggleAudio();
      }
    });

    // Mettre à jour l'état lorsque la musique est jouée ou mise en pause
    audioPlayer.addEventListener("play", () => {
      isPlaying = true;
    });

    audioPlayer.addEventListener("pause", () => {
      isPlaying = false;
    });
  </script>
</section>
