<div id="drawer">
  <button class="close-btn" onclick="closeDrawer()">Fermez là</button>
  <div id="list">
    <ul id="drawer-list"></ul>
  </div>
</div>

<style>
  #drawer-container {
    width: 40rem;
    height: 100%;
    position: fixed;
    top: 0px;
    left: calc(-40rem - 4rem);
  }
  #list {
    padding: 2rem;
    overflow-y: scroll;
    height: calc(100% - 5rem);
    display: grid;
  }
  /* Style du Drawer */
  #drawer {
    position: fixed;
    top: 0;
    left: -60rem;
    width: 40rem;
    height: 100%;
    background-color: var(--p);
    color: var(--t); /* Couleur du texte secondaire */
    transition: left 0.3s ease; /* Animation lors de l'ouverture/fermeture */
    z-index: 1000;
    box-shadow: 0.2rem 0 0.5rem rgba(0, 0, 0, 0.5); /* Légère ombre */
  }

  #drawer ul {
    list-style: none;
    padding: 0;
    margin: 0px;
  }

  #drawer h3 {
    font-size: 1.6rem;
    color: var(--t); /* Utilisation de la couleur secondaire */
    font-weight: 200;
    letter-spacing: 3px;
  }

  #drawer ul li {
    padding: 1rem 0;
    width: 100%;
    height: 2rem;
    line-height: 1.6rem;
    cursor: pointer;
    color: var(--rose);
    text-decoration: none;
    font-size: 2.5rem;
    font-family: "itim-regular", system-ui;
    font-weight: smaller;
    font-style: normal;
    line-height: 3rem;
  }
  #drawer ul li:hover {
    padding: 1rem 0;
    width: 100%;
    height: 2rem;
    line-height: 1.6rem;
    cursor: pointer;
    color: var(--rouge);
    text-decoration: none;
    font-size: 2.5rem;
    font-family: "itim-regular", system-ui;
    font-weight: smaller;
    font-style: normal;
  }

  #drawer .close-btn {
    display: block;
    background-color: var(--s); /* Couleur secondaire pour le bouton */
    border: none;
    color: var(--p); /* Texte en couleur primaire */
    text-align: center;
    cursor: pointer;
    width: 100%;
    font-size: 2rem;
  }

  #drawer .close-btn:hover {
    background-color: var(--s-75); /* Couleur secondaire 75% pour effet hover */
  }

  @media (max-width: 600px) {
    #drawer-container {
      width: 100%;
    }
    #drawer {
      width: 100%;
    }
  }
</style>

<script>
  // Fonction Drawer avec catégories
  function Drawer(items) {
    const drawerList = document.getElementById("drawer-list");
    drawerList.innerHTML = ""; // Efface la liste actuelle

    // Organiser les éléments par catégories
    const categories = {};
    items.forEach((item) => {
      if (!categories[item.categorie]) {
        categories[item.categorie] = [];
      }
      categories[item.categorie].push(item);
    });

    // Générer les catégories et les items dans le drawer
    Object.keys(categories).forEach((categorie) => {
      // Ajouter le titre de la catégorie
      const categoryTitle = document.createElement("h3");
      categoryTitle.textContent = categorie;
      drawerList.appendChild(categoryTitle);

      // Ajouter les items sous chaque catégorie
      const itemList = document.createElement("ul");
      categories[categorie].forEach((item) => {
        const li = document.createElement("li");
        li.innerText = item.titre;
        li["data-path"] = item.path;
        li.addEventListener("click", () => {
          openFullscreenDrawer(li["data-path"]);
        });
        // li.appendChild(p);
        itemList.appendChild(li);
      });
      drawerList.appendChild(itemList);
    });
  }

  function openDrawer() {
    document.getElementById("drawer").style.left = "0";
  }

  function closeDrawer() {
    document.getElementById("drawer").style.left = "-100%";
  }

  const items = [
    {
      path: "poems/angele",
      titre: "T'oublier, toi, ton ta tes... tout",
      categorie: "Arc - Musique",
    },
    {
      path: "poems/bruno",
      titre: "Burno l'ésseulé",
      categorie: "Arc - Droitiste",
    },
    {
      path: "poems/raptor",
      titre: "Le rapeur dissipé",
      categorie: "Arc - Droitiste",
    },
    {
      path: "poems/valek",
      titre: "Balek",
      categorie: "Arc - Droitiste",
    },
    {
      path: "poems/papacito",
      titre: "Pas de si tôt",
      categorie: "Arc - Droitiste",
    },
    {
      path: "poems/stephane-edouard",
      titre: "Saitphâde Tainouard",
      categorie: "Arc - Droitiste",
    },
    {
      path: "poems/psykodeklik",
      titre: "psyKodeKliK",
      categorie: "Arc - Soidicentre",
    },
    {
      path: "poems/anesthesie",
      titre: "anesthtesie",
      categorie: "Arc - Gauchiard",
    },
    {
      path: "poems/banana",
      titre: "banana.S",
      categorie: "Arc - Gauchiard",
    },
    {
      path: "poems/bouseux",
      titre: "LE Bouseux",
      categorie: "Arc - Gauchiard",
    },
    {
      path: "poems/malade",
      titre: "Malade Bancale",
      categorie: "Arc - Scientifique",
    },
    {
      path: "poems/lait",
      titre: "Science 4 temps",
      categorie: "Arc - Scientifique",
    },

    {
      path: "poems/reboucle",
      titre: "Science efféminée",
      categorie: "Arc - Scientifique",
    },
    {
      path: "poems/fapate",
      titre: "Pass pas",
      categorie: "Arc - Scientifique",
    },
    {
      path: "poems/gravier",
      titre: "Joueur de gravier",
      categorie: "Arc - diverstissement",
    },
    {
      path: "poems/greg",
      titre: "Greg maimera",
      categorie: "Arc - Sportif",
    },
    {
      path: "poems/louis",
      titre: "Saint Louis",
      categorie: "Arc - WTF",
    },
    {
      path: "poems/tevex",
      titre: "TeVeX",
      categorie: "Arc - WTF",
    },
    {
      path: "poems/mojo",
      titre: "mojo",
      categorie: "Arc - WTF",
    },
    {
      path: "poems/Athena",
      titre: "Athena",
      categorie: "Arc - Langue",
    },
    {
      path: "poems/juseplus",
      titre: "juséplus",
      categorie: "Arc - Langue",
    },
  ];

  Drawer(items);
</script>
